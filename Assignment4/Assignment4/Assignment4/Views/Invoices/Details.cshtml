@model Assignment4.Controllers.InvoiceWithDetail

@{
    ViewBag.Title = "Invoice details";
    var invoiceDate = Model.InvoiceDate.ToLongDateString();
    var customerName = Model.CustomerFirstName + " " + Model.CustomerLastName;
    var customerAddress = Model.CustomerCity + ", " + Model.CustomerState;
    var cn = "Customer name";
    var sr = "Sales Representative";
    var representativeName = Model.CustomerEmployeeFirstName + " " + Model.CustomerEmployeeLastName;
    var billingLocation = Model.BillingCity + ", " + Model.BillingState + ", " + Model.BillingCountry;


}

<
<h3>Invoice and customer information</h3>

<div>

    <hr />
    <dl class="dl-horizontal">


        <dt>
            @Html.DisplayNameFor(model => model.InvoiceId)
        </dt>
        <dd>
            @Html.DisplayFor(model => model.InvoiceId)
        </dd>
        <dt>
            @Html.DisplayNameFor(model => model.InvoiceDate)
        </dt>
        <dd>
            @invoiceDate
            @*@Html.DisplayFor(model => model.InvoiceDate)*@
        </dd>
        <dt>
            @Html.DisplayNameFor(model => model.Total)
        </dt>

        <dd>
            @Html.DisplayFor(model => model.Total)
        </dd>

    </dl>
    <hr />

    <dl class="dl-horizontal">
        <dt>
            @Html.DisplayNameFor(model => model.CustomerId)
        </dt>

        <dd>
            @Html.DisplayFor(model => model.CustomerId)
        </dd>
        <dt>
            @cn
        </dt>
        <dd>
            @customerName
        </dd>
        <dt>
        </dt>
        <dd>
            @customerAddress
        </dd>
        <dt>
            @sr
        </dt>
        <dd>
            @representativeName
        </dd>
    </dl>
    <dl class="dl-horizontal">
        <dt>
            @Html.DisplayNameFor(model => model.BillingAddress)
        </dt>

        <dd>
            @Html.DisplayFor(model => model.BillingAddress)
        </dd>
        <dt></dt>
        <dd>
            @billingLocation
        </dd>
        <dt></dt>
        <dd>
            @Html.DisplayFor(model => model.BillingPostalCode)
        </dd>

    </dl>
</div>

<table class="table table-bordered table-striped table-hover">
    <tr class="success">
        <h3>Line item detail</h3>
        <th>
            @Html.DisplayName("Invoice line ID")
        </th>
        <th>
            @Html.DisplayName("Track ID")
        </th>
        <th>
            @Html.DisplayName("Track info")
        </th>
        
        <th>
            @Html.DisplayName("Unit price")
        </th>
        <th>
            @Html.DisplayName("Quantity")
        </th>
        <th>
            @Html.DisplayName("Item total")
        </th>

    </tr>

    @foreach (var item in Model.InvoiceLines)
    {
        var total = @item.Quantity * @item.UnitPrice;


        <tr>
            <td>
                @item.InvoiceLineId
            </td>
            <td>
                @item.TrackId
            </td>
            <td>
                @item.TrackName <br> by @item.TrackAlbumArtistName <br>     Album: @item.TrackAlbumTitle <br> Composer(s): @item.TrackComposer <br> Format: @item.TrackMediaTypeName
            </td>
            <td>
                @item.UnitPrice
            </td>
            <td>
                @item.Quantity
            </td>
            <td>
                @total
            </td>
        </tr>
    }
</table>
<p>
    @Html.ActionLink("Back to List", "Index")
</p>
